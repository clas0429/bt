<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ AI æ™ºæ…§éŸ³ç®±</title>
    <style>
        body {
            font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            text-align: center;
            background-color: #2c3e50; /* æ·±è—ç°è‰²èƒŒæ™¯ */
            color: white;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        h1 { margin-bottom: 30px; }
        
        /* è¼¸å…¥æ¡†æ¨£å¼ */
        textarea {
            width: 90%;
            height: 100px;
            padding: 15px;
            font-size: 18px;
            border-radius: 15px;
            border: none;
            margin-bottom: 20px;
            resize: none;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        button {
            padding: 15px 30px;
            font-size: 20px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 5px;
            transition: 0.3s;
        }
        .btn-ask {
            background-color: #e74c3c; /* ç´…è‰²æŒ‰éˆ• */
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 0 #c0392b;
        }
        .btn-ask:active {
            transform: translateY(4px);
            box-shadow: none;
        }
        
        /* é¡¯ç¤º AI å›ç­”çš„åœ°æ–¹ */
        #responseArea {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            text-align: left;
            min-height: 100px;
            line-height: 1.6;
        }
        .status {
            color: #f1c40f; /* é»ƒè‰²ç‹€æ…‹å­— */
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ¤– AI è—ç‰™æ™ºæ…§éŸ³ç®±</h1>
        
        <p>è¼¸å…¥ä½ æƒ³è·Ÿ AI èªªçš„è©±ï¼š</p>
        <textarea id="userInput" placeholder="ä¾‹å¦‚ï¼šè¬›ä¸€å€‹ç¬‘è©±çµ¦æˆ‘è½..."></textarea>
        <br>
        
        <button class="btn-ask" onclick="askGemini()">ğŸ”´ ç™¼é€çµ¦ AI ä¸¦æœ—è®€</button>
        
        <div id="statusText" class="status"></div>
        <div id="responseArea">AI çš„å›ç­”æœƒå‡ºç¾åœ¨é€™è£¡...</div>
    </div>

    <script>
        // âš ï¸ è«‹åœ¨é€™è£¡æ›ä¸Šä½ æ–°ç”³è«‹çš„ API KEY (ç‚ºäº†å®‰å…¨ï¼Œä¸è¦ç”¨èˆŠçš„)
        const API_KEY = "AIzaSyBR89k--Pp9VjXHSLDLuBkS3x41OS4lfPg"; 

        async function askGemini() {
            const inputText = document.getElementById("userInput").value;
            const statusDiv = document.getElementById("statusText");
            const responseDiv = document.getElementById("responseArea");

            if (!inputText) {
                alert("è«‹å…ˆè¼¸å…¥æ–‡å­—å–”ï¼");
                return;
            }

            // 1. é¡¯ç¤ºæ€è€ƒä¸­
            statusDiv.innerText = "ğŸ§  AI æ­£åœ¨æ€è€ƒä¸­...";
            responseDiv.innerText = "Loading...";

            // 2. æº–å‚™å‘¼å« Gemini API çš„è³‡æ–™
            // æˆ‘å€‘è¨­å®š AI æ‰®æ¼”ä¸€å€‹ç°¡çŸ­å›ç­”çš„åŠ©æ‰‹ï¼Œå› ç‚ºèªéŸ³æœ—è®€å¤ªé•·æœƒå¾ˆåµ
            const prompt = "è«‹ç”¨ç¹é«”ä¸­æ–‡ï¼Œç°¡çŸ­ã€å£èªåŒ–åœ°å›ç­”æˆ‘(é©åˆæœ—è®€çš„é•·åº¦)ï¼š" + inputText;

            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`;
            
            const data = {
                contents: [{
                    parts: [{ text: prompt }]
                }]
            };

            try {
                // 3. ç™¼é€è«‹æ±‚çµ¦ Google
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                
                // 4. è§£æ AI çš„å›ç­”
                const aiText = result.candidates[0].content.parts[0].text;
                
                // é¡¯ç¤ºæ–‡å­—
                statusDiv.innerText = "âœ… æ¥æ”¶æˆåŠŸï¼Œæº–å‚™æ’­æ”¾è²éŸ³";
                responseDiv.innerText = aiText;

                // 5. è®“å–‡å­å”¸å‡ºä¾† (TTS)
                speakOut(aiText);

            } catch (error) {
                console.error("Error:", error);
                statusDiv.innerText = "âŒ ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ API Key æˆ–ç¶²è·¯";
                responseDiv.innerText = "é€£ç·šå¤±æ•—ï¼š" + error;
            }
        }

        // æ–‡å­—è½‰èªéŸ³å‡½å¼
        function speakOut(text) {
            // å…ˆåœæ­¢åŸæœ¬æ­£åœ¨èªªçš„è©±
            window.speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-TW'; // è¨­å®šä¸­æ–‡
            utterance.rate = 1.0;     // èªé€Ÿ
            utterance.pitch = 1.0;    // éŸ³èª¿
            
            // æ’­æ”¾
            window.speechSynthesis.speak(utterance);
        }
    </script>

</body>
</html>